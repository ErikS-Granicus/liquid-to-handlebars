{{#if collection.image}}
  <div class="collection-hero">
    <noscript>
      <div class="collection-hero__image-no-js" style="background-image:url({{img_url collection.image '2048x2048'}});"></div>
    </noscript>
    <div class="collection-hero__image-wrapper">
      {{assign 'img_url' (replace (img_url collection.image '1x1') '_1x1.' '_{width}x.')}}
      <img class="collection-hero__image lazyload"
        src="{{img_url collection.image '300x'}}"
        data-src="{{ img_url }}"
        data-widths="[540, 720, 900, 1080, 1296, 1512, 1728, 1944, 2048, 4472]"
        data-aspectratio="{{ collection.image.aspect_ratio }}"
        data-sizes="auto"
        data-parent-fit="cover"
        alt="{{escape collection.image.alt}}">
    </div>
  </div>
{{/if}}

<div id="CollectionSection" class="wrapper" data-section-id="{{ section.id }}" data-section-type="collection-template" data-grid-type="{{ section.settings.collection_products_grid }}">
  {{include 'collection-template'}}
</div>

{{#schema}}
  {
    "name": "Collection image pages",
    "settings": [
      {
        "type": "select",
        "id": "collection_products_grid",
        "label": "Grid style",
        "options": [
          {
            "value": "collage",
            "label": "Collage"
          },
          {
            "value": "grid",
            "label": "Grid"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "collection_tags_enable",
        "label": "Show collection tags"
      },
      {
        "type": "checkbox",
        "id": "product_vendor_enable",
        "label": "Show product vendor"
      }
    ]
  }
{{/schema}}
